# 1.Go与Java的内存模型

- Go语言中多线程的通信是基于消息的，Java语言中多线程的通信是基于共享内存的

# 2.Java内存模型的原理
- Java内存模型规定所有的变量都存放在主内存中，当线程使用变量时都是把主内存
里面的变量拷贝到自己的工作空间或者叫做工作内存中，线程读写变量的时候是操作
自己工作内存中的变量

# 3.双核CPU系统架构
- 每核有自己的控制器和运算器，其中控制器包含一组寄存器和操作控制器，运算器
执行算术逻辑运算，每核都有自己的L1缓存，并且有些架构里面还有个所有CPU共享
的L2缓存

- 所以对应的Java内存模型里面的工作内存，在实现上是指L1或者L2缓存或者CPU寄
存器

# 4.线程操作共享变量的过程
- 当前线程首先从主内存中拷贝共享变量到自己的工作内存

- 然后对工作内存里的变量进行处理

- 处理完之后更新变量值到主内存

***注意事项***
上面这三个步骤操作不具有原子性，所以会造成共享变量的内存不可见性问题；具体是指
当线程A获取并修改了共享变量的值，还没刷新到主内存中，线程B从主内存中获取了修改
前的值，这时候线程A修改过的值对线程B来说就不可见